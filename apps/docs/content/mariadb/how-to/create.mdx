---
title: Create a MariaDB service in Zerops
---

MariaDB is the open source relational database loved by developers all over the world. Created by MySQL’s original developers, MariaDB is compatible with MySQL and guaranteed to stay open source forever.

Zerops provides the MariaDB Community Server edition as a managed database service.

## Create MariaDB using Zerops GUI
First, set up a project in Zerops GUI. Then go to the project dashboard page and choose **Add new service** in the left menu in the **Services** block. Then add a new MariaDB service:

**// TODO screenshot (add a new service page)**

**hostname**

Enter a unique service identifier like "mariadb","sql", "db" etc. Duplicate services with the same name in the same project are forbidden.

Limitations:
* maximum 25 characters
* must contain only lowercase ASCII letters (a-z) or numbers (0-9) 

:::caution
The hostname is fixed after the service is created. It can't be changed later.
:::

## Single node vs. HA cluster
Zerops provides MariaDB service in two modes: **Highly available** and **Single container**.

**// TODO image**

### Highly available 

Creates a  MariaDB cluster with **3 database containers** and **2 free application balancers**. 
This mode is suited for production. 

Zerops always keep the 3 database containers on different physical machines. All your data is stored redundantly in 3 copies. In case of a failure of a container or the underlying physical machine, Zerops automatically disconnects the failed container from the cluster, creates a new container and syncs all data from the remaining 2 copies. Finally the broken container is automatically deleted.

// TODO update url

[Learn more ↗](/mariadb/tech-details/cluster)  about specific behaviour and technical limitations of the MariaDB cluster.

### Single container

A MariaDB database installed in a single container is created. Useful for non-essential data or dev environments.

Your data is stored only in a single container. If the container or the underlying physical machine fails, your data since the last backup are lost. Zerops doesn't provide any automatic repairs of single node MariaDB services.

:::caution
The MariaDB service mode is fixed after the service is created. It can't be changed later.
:::

### Supported versions
Currently only MariaDB **10.4** version is available.

### Set auto scaling configuration
Zerops scales the MariaDB services automatically by raising or lowering the hardware resources of each database container.

Vertical auto scaling has following default configuration:

| &nbsp;              | Minimum resource | Maximum resource |
| ------------------- | ---------------- | ---------------- |
| **vCPU**            | 1                | 20               | 
| **RAM**             | 1 GB             | 32 GB            |
| **Disk**            | 1 GB             | 100 GB           |

For most cases, the default parameters will work without issues. If you need to limit the cost of the MariaDB service, lower the maximal resources. Zerops will never scale above the selected maximums.

When you are experiencing problems with insufficient MariaDB performance or capacity, increase the minimal resources. Zerops will never scale below the selected minimums.

:::info
You can change the auto scaling parameters later.
:::

**// TODO screenshot (add a new MariaDB page - Automatic scaling section)**

MariaDB needs at least 10 vCPUs to start. Zerops automatically starts MariaDB service with at least 10 vCPUs. If the database is idle after the start, Zerops will scale the MariaDB down to selected minimum vCPU settings. If you set the minimum vCPU settings higher than 10 vCPUs, Zerops will start with the required minimum vCPU settings. 

Learn more ↗ about MariaDB auto scaling.

## Create MariaDB using zCLI
1. [Install & setup zCLI ↗](/references/cli)
2. [Create a project description file](#create-a-project-description-file) 
3. Create a project and a MariaDB service 

### Create a project description file
Zerops uses a yaml format to describe the project infrastructure.
#### Basic example
Create a directory `my-project`. Create a `description.yml` file inside the directory with the following content:
```yml
# basic project data
project:
  # project name
  name: My project
# array of project services
services:
  -
    # service name
    hostname: mariadb1
    # service type and version number in mariadb@10.4 format
    type: mariadb@10.4
    # mode of operation "HA"/"NON_HA"
    mode: NON_HA
```
The yaml file describes your future project infrastructure. The project will contain one MariaDB 10.4 service in the [single container] mode with default [auto scaling↗] configuration. Hostname will be set to `mariadb1`.

#### Full example
Create a directory `my-project`. Create a `description.yml` file inside the directory with the following content:
```yml
# basic project data
project:
  # project name
  name: My project
  # optional: project description 
  description: A project with a MariaDB database
  # optional: project tags
  tags:
  - DEMO
  - ZEROPS
# array of project services
services:
  -
    # first service hostname
    hostname: mariadb1
    # service type and version number in mariadb@10.4 format
    type: mariadb@10.4
    # mode of operation "HA"/"NON_HA"
    mode: HA
    # optional: vertical auto scaling customization 
    verticalAutoscaling: 
      minVCpu: 10
      maxVCpu: 20
      minRam: 4
      maxRam: 8
      minDisk: 2
      maxDisk: 10
  -
    # second service hostname
    hostname: mariadb2
    # service type and version number in mariadb@10.4 format
    type: mariadb@10.4
    # mode of operation "HA"/"non_HA"
    mode: NON_HA
```

The yaml file describes your future project infrastructure. The project will contain two MariaDB 10.4 services. 

The hostname of the first service will be set to `mariadb1`. The [high availability] mode will be chosen and the custom [auto scaling configuration↗] will be set.

The hostname of the second service will be set to `mariadb2`. The [single container] mode will be chosen and the default [auto scaling configuration↗] will be set.